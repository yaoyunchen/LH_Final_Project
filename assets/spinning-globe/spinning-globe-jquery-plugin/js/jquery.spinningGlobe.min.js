/**
 *
 * Plugin:			Spinning Globe jQuery Plugin
 * Plugin URI:		http://webplantmedia.com/jquery/2012/08/spinning-globe-jquery-plugin/
 * Description:		jQuery plugin that turns any div element into a rotating animation of the planet earth.
 * Version:			1.0.0
 * Author:			Chris Baldelomar
 * Author URI:		http://webplantmedia.com
 * License:			GNU General Public License version 3.0
 * License URI:		http://www.gnu.org/licenses/gpl-3.0.html
 *
 */
(function(a){a.fn.spinningGlobe=function(e){var f={earthWidth:1889,earthHeight:500,prefix:"img/globe1/",logo:false,resistance:30};var e=a.extend(f,e);e.globeWidth=e.earthHeight,e.timer=e.earthWidth*e.resistance,e.earthWidthHalf=Math.round(e.earthWidth/2),e.resetWidth=e.earthWidthHalf-1;e.resetWidthHalf=Math.round(e.earthWidthHalf/2);e.earthBoundingWidth=e.earthHeight-2;var g=a(this);var c=null;var b=null;var d={init:function(){g.css("width",e.earthHeight+"px").css("height",e.earthHeight+"px").css("position","relative").css("overflow","hidden").css("display","none").css("background-color","transparent");var h='<div class="globe-background" style="position:absolute; top: 0; left: 0;"><img src="'+e.prefix+"globe_background_"+e.earthHeight+"x"+e.earthHeight+'.png" /></div><div class="earth-background" style="position:absolute; top: 1px; left: 1px; overflow: hidden; width:'+e.earthBoundingWidth+"px; height:"+e.earthBoundingWidth+'px;"><img style="position: absolute; left: -0px; top: 0px; height: '+e.earthHeight+'px;" src="'+e.prefix+"earth_background_"+e.earthWidth+"x"+e.earthHeight+'.png" width="'+e.earthWidth+'" height="'+e.earthHeight+'"/></div>';if(e.logo){h+='<div class="globe-middleground" style="position:absolute; top: 0; left: 0;"><img src="'+e.prefix+"globe_middleground_"+e.earthHeight+"x"+e.earthHeight+'.png" /></div>'}h+='<div class="earth-foreground" style="position:absolute; top: 1px; left: 1px; overflow: hidden; width:'+e.earthBoundingWidth+"px; height:"+e.earthBoundingWidth+'px;"><img style="position: absolute; left: -'+e.earthWidthHalf+"px; top: 0px; height: "+e.earthHeight+'px;" src="'+e.prefix+"earth_foreground_"+e.earthWidth+"x"+e.earthHeight+'.png" width="'+e.earthWidth+'" height="'+e.earthHeight+'" /></div><div class="globe-foreground" style="position:absolute; top: 0; left: 0;"><img src="'+e.prefix+"globe_foreground_"+e.earthHeight+"x"+e.earthHeight+'.png" /></div>';g.html(h);g.children("div").children("img").load(function(){g.fadeIn("slow")}).bind("dragstart",function(i){i.preventDefault()});c=g.children(".earth-foreground").children("img");b=g.children(".earth-background").children("img");d.spinEarthForeground.apply();d.spinEarthBackground.apply()},spinEarthForeground:function(){c.animate({left:"+="+e.resetWidth+"px"},e.timer,"linear",function(){c.css("left","-"+e.earthWidthHalf+"px");d.spinEarthForeground.apply()})},spinEarthBackground:function(){b.animate({left:"-="+e.resetWidth+"px"},e.timer,"linear",function(){b.css("left","-0px");d.spinEarthBackground.apply()})}};return d.init.apply(this)}})(jQuery);
